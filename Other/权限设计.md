# 权限设计

权限设计思想

1. ACL
2. RBAC
   1. RBAC0
   2. RBAC1
   3. RBAC2
   4. RBAC3
3. ABAC
4. PBAC

## ACL（Access-Control List）

访问控制列表。

用户层，权限层，如下图。

[![R3yUsS.png](https://z3.ax1x.com/2021/06/25/R3yUsS.png)](https://imgtu.com/i/R3yUsS)一个用户有多个权限，用户和权限强相关。

### 优点

简单，用数组即可存储，也就是意味着内部访问高效。大多应用在操作系统，数据库等中间件中。

### 缺点

灵活性差

### 实际应用场景

实际使用的 Middleware/Application（中间件/应用）

- MySQL 的 acl 数组
- HBase
- MongoDB
- 操作系统

## RBAC（Role-Based Access Control）

基于角色的权限控制。

分三层，用户层，角色层，权限层。

![RBAC.png](https://i.loli.net/2021/06/25/BO4jf7DmZdHMnTq.png)

### 优点

用户和权限解耦，只和中间的角色相关。相比于 ACL 更加灵活，适合应用于简单的权限控制系统。

### 缺点

复杂，角色继承概念没有。

- RBAC0 —— Flat RBAC

  就是上面的图，扁平 RBAC（Flat RBAC）

- RBAC1 —— Hierarchical RBAC

  上面提到的没有角色继承概念，这里就是**层次性的角色**，例如 A 角色有两个权限，B 角色继承自 A 角色，B 就默认拥有 A 角色的两个权限。像下面这种图片，角色形成 DAG（有向无环图）或者树形。

  [![R36Aeg.png](https://z3.ax1x.com/2021/06/25/R36Aeg.png)](https://imgtu.com/i/R36Aeg)

- RBAC2 —— Constrained RBAC

  约束的 RBAC。

  在基本的 RBAC 思想之上，进行了角色约束控制，添加了责任分离关系。

- RBAC3 —— Symmetric RBAC

  添加了角色审查的概念，

  下图所示

  [![R32Xct.png](https://z3.ax1x.com/2021/06/26/R32Xct.png)](https://imgtu.com/i/R32Xct)

## ABAC（Attribute-Based Access Control）

基于属性的权限控制

## PBAC（Policy-Based Access Control）

Policy-Based Access Control。

# 拓展

和大数据相关的认证授权，Kerberos。
